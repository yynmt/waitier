# waitier リビルドガイド

![](../images/main_image2.jpg)

## 目次

- [0. 事前準備](#0-事前準備)
  - [0.1. 内容物](#01-内容物)
  - [0.2. 必要工具](#02-必要工具)
- [1. 動作確認](#1-動作確認)
- [2. 3Dプリントケース](#2-3Dプリントケース)
- [3. ネジの交換](#3-ネジの交換)
- [4. ファームウェア](#4-ファームウェア)

---

## 0. 事前準備
### 0.1. 内容物

|![](../images/rg_00-01.png)|![](../images/rg_00-02.png)|
|---|---|

||名前|数量|備考|
|:---:|:---|---:|:---|
|1|waitier本体|1||
|2|3Dプリントケース|1||
|3|3Dプリントスペーサ|1||
|4|真鍮ネジ|4|M2 6mm|

- ※ 販売形式によっては内容が異なる場合があります。

---

### 0.2. 必要工具

- プラスドライバー #1
- マイナスドライバー -3.0mm

---

## 1. 動作確認
　まず始めに内容物が揃っていることを確認し、動作確認を行います。
お使いのPCにwaitier本体をUSB Type-Cケーブルで接続して正常に認識されることを確認してください。
認識されない場合はwaitier内のメインPCBの不良、もしくはUSB Type-Cケーブルがデータ通信用ではない可能性があります。
正常に認識されたら先端の細い柔らかい棒(樹脂製のスパッジャなど)で瞳孔部分のスイッチを押下してください。
初期状態で書き込まれているファームウェアでは、スイッチを押下すると任意の文字列が入力されます。
テキストエディタなどを開いて文字列が入力されることを確認してください。
これらが確認できたら動作確認は完了です。

|![](../images/rg_01-01.png)|
|:---:|

---

## 2. 3Dプリントケース

　waitier本体には付属の3Dプリントケースを取り付けることができます。

　waitier本体に3Dプリントケースを取り付けます。
waitier本体裏面のネジを4ヶ所緩め取り外すことで、ボトムプレートPCB2枚が取り外すことができます。
このとき、ボトムプレートPCBとメインPCBの間に中空スペーサ挟まっています。
取り外したネジと中空スペーサは小さなパーツのため、紛失しないようご注意ください。

|![](../images/rg_02-01.png)|![](../images/rg_02-02.png)|![](../images/rg_02-03.png)|
|:---:|:---:|:---:|

　中空スペーサとメインPCBが取り外せるようになっています。
中空スペーサは3Dプリントケースを使用する場合は使用しないため、大切に保管してください。
メインPCBには不必要に触れないようご注意ください。

|![](../images/rg_02-04.png)|![](../images/rg_02-05.png)|
|:---:|:---:|

　3Dプリントケースをまっすぐ垂直に被せます。
3Dプリントケースには取り付けの向きがあります。
特にUSB端子の位置にご注意ください。

|![](../images/rg_02-06.png)|![](../images/rg_02-07.png)|
|:---:|:---:|

　メインPCBを元に戻します。
3Dプリントケースの側面からUSB端子が露出していることをご確認ください。

|![](../images/rg_02-08.png)|![](../images/rg_02-09.png)|
|:---:|:---:|

　メインPCBの上に3Dプリントスペーサを乗せます。
3Dプリントケース同様に取り付けの向きがあります。
また、3Dプリントスペーサには3Dプリントケースに対してやや小さく遊びを持った設計となっています。
ネジ穴位置がなるべく位置が合うようにする必要があります。

|![](../images/rg_02-10.png)|![](../images/rg_02-11.png)|
|:---:|:---:|

　最初に取り外したボトムプレートPCB2枚を元に戻し、最後にてネジを4ヶ所締めて固定します。
これで3Dプリントケースの取り付けは完了です。

|![](../images/rg_02-12.png)|![](../images/rg_02-13.png)|
|:---:|:---:|

----

## 3. ネジの交換

　waitier本体表面のネジは付属の真鍮ネジに交換することができます。

　waitier本体裏面のネジを4ヶ所緩め取り外します。
取り外したネジは小さなパーツのため、紛失しないようご注意ください。
また、ネジを取り外した状態であればトッププレート部分をそれぞれPCB11枚に分解することができます。

|![](../images/rg_03-01.png)|![](../images/rg_03-02.png)|
|:---:|:---:|

　真鍮ネジを4ヶ所締めて固定します。
これでネジの交換は完了です。

|![](../images/rg_03-03.png)|![](../images/rg_03-04.png)|
|:---:|:---:|

----

## 4. ファームウェア

　waitierはMCUにRP2040を使用してます。
任意のファームウェアを書き込むことで、Raspberry Pi Picoの互換機として使用できます。
なお、フラッシュ容量は2MBです。

　ファームウェアを書き込むには、ブートローダーモードでお使いのPCにwaitier本体をUSB Type-Cケーブルで接続する必要がります。
ブートローダモードで接続するには、まず3Dプリントケースの取り付け手順を参考にし、waitier本体からメインPCBを取り出します。
ブートローダモードにするには以下の2つの手順があります。

1. メインPCB上にあるBOOTボタンを押下した状態でお使いのPCにUSB Type-Cケーブルで接続する
1. お使いのPCにUSB Type-Cケーブルで接続した状態で、BOOTボタンを押下しながらRESETボタンを押下する

BOOTボタンとRESETボタンは以下の図を参考にしてください。

|![](../images/rg_04-01.png)|![](../images/rg_04-02.png)|
|:---:|:---:|

　ブートローダモードで接続が完了すると、`RPI-RP2`という名前のUSBドライブとして認識されます。
USBドライブにファームウェアファイル(`*.uf2`)をコピーします。
コピーの方法はお使いのPCのOSによって異なります。
コピーが完了すると自動的にUSBドライブとしての認識が解除され、ブートローダモードが終了します。
これで任意のファームウェアの書き込みは完了です。

本ビルドガイドは[Acperience70](http://yynmt.com/kb/a70.html)で書かれました。
